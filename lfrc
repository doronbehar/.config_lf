# interpreter for shell commands (needs to be POSIX compatible)
set shell zsh

# set '-eu' options for shell commands
# These options are used to have safer shell commands. Option '-e' is used to
# exit on error and option '-u' is used to give error for unset variables.
# Option '-f' disables pathname expansion which can be useful when $f, $fs, and
# $fx variables contain names with '*' or '?' characters. However, this option
# is used selectively within individual commands as it can be limiting at
# times.
set shellopts '-eu'

# leave some space at the top and the bottom of the screen
set scrolloff 10

# rename current file without overwrite
cmd rename %[ -e $1 ] && printf "file exists" || mv $f $1
map r push :rename<space>
# map builtin delete command
map <delete> delete
# better asynchronious search
map / $lf -remote "send $id select '$(all_files=(./*(ND)); printf '%s\n' ${all_files[@]} | fzf)'"

# from some reason this doesn't work: `set dirfirst off`
set dirfirst!
set drawbox on
set hidden on
set globsearch on
set tabstop 4
set previewer ~/.config/lf/scope.sh

cmap <up> cmd-history-prev
cmap <down> cmd-history-next
# waiting for https://github.com/gokcehan/lf/issues/111
#cmap <c-right> cmd-word
#cmap <c-left> cmd-word-back

# vim: ft=lf
